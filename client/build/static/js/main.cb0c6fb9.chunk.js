(this["webpackJsonpreact-bank"]=this["webpackJsonpreact-bank"]||[]).push([[0],{125:function(e,t,r){"use strict";r.r(t);var n,a=r(3),c=r(0),o=r(13),s=r.n(o),u=(r(95),r(96),r(97),r(22)),i=r(14),j=r(31),l=r(26),b=r(16),O=r(12),d=r(20),h=r.n(d),f=r(160),m=r(157),p=r(74),x=r(18),v="loading/START_LOADING",g="loading/FINISH_LOADING",w=Object(f.a)(v,(function(e){return e})),y=Object(f.a)(g,(function(e){return e})),k=Object(m.a)((n={},Object(b.a)(n,v,(function(e,t){return Object(O.a)(Object(O.a)({},e),{},Object(b.a)({},t.payload,!0))})),Object(b.a)(n,g,(function(e,t){return Object(O.a)(Object(O.a)({},e),{},Object(b.a)({},t.payload,!1))})),n),{}),E=function(e){return[e,"".concat(e,"_SUCCESS"),"".concat(e,"_FAILURE")]};function S(e,t){var r="".concat(e,"_SUCCESS"),n="".concat(e,"_FAILURE");return h.a.mark((function a(c){var o;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(x.c)(w(e));case 2:return a.prev=2,a.next=5,Object(x.b)(t,c.payload);case 5:return o=a.sent,a.next=8,Object(x.c)({type:r,payload:o.data});case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(2),a.next=14,Object(x.c)({type:n,payload:a.t0,error:!0});case 14:return a.next=16,Object(x.c)(y(e));case 16:case"end":return a.stop()}}),a,null,[[2,10]])}))}var C,I=r(73),N=r.n(I).a.create(),T=function(){return N.post("/api/auth/logout")},L=h.a.mark(V),A="auth/CHANGE_FILED",F="auth/INITIALIZE_FORM",R=E("auth/REGISTER"),M=Object(j.a)(R,3),U=M[0],_=M[1],D=M[2],G=E("auth/LOGIN"),B=Object(j.a)(G,3),P=B[0],z=B[1],J=B[2],H=Object(f.a)(A,(function(e){return{form:e.form,key:e.key,value:e.value}})),K=Object(f.a)(F,(function(e){return e})),W=Object(f.a)(U,(function(e){return{username:e.username,email:e.email,password:e.password}})),Z=Object(f.a)(P,(function(e){return{username:e.username,password:e.password}})),q=S(U,(function(e){var t=e.username,r=e.password,n=e.email;return N.post("/api/auth/register",{username:t,password:r,email:n})})),Q=S(P,(function(e){var t=e.username,r=e.password;return N.post("/api/auth/login",{username:t,password:r})}));function V(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.d)(U,q);case 2:return e.next=4,Object(x.d)(P,Q);case 4:case"end":return e.stop()}}),L)}var X,Y={register:{username:"",email:"",password:"",passwordConfirm:""},login:{username:"",password:""},auth:null,authError:null},$=Object(m.a)((C={},Object(b.a)(C,A,(function(e,t){var r=t.payload,n=r.form,a=r.key,c=r.value;return Object(p.a)(e,(function(e){e[n][a]=c}))})),Object(b.a)(C,F,(function(e,t){var r=t.payload;return Object(O.a)(Object(O.a)({},e),{},Object(b.a)({},r,Y[r]))})),Object(b.a)(C,_,(function(e,t){var r=t.payload;return Object(O.a)(Object(O.a)({},e),{},{authError:null,auth:r})})),Object(b.a)(C,D,(function(e,t){var r=t.payload;return Object(O.a)(Object(O.a)({},e),{},{authError:r})})),Object(b.a)(C,z,(function(e,t){var r=t.payload;return Object(O.a)(Object(O.a)({},e),{},{authError:null,auth:r})})),Object(b.a)(C,J,(function(e,t){var r=t.payload;return Object(O.a)(Object(O.a)({},e),{},{authError:r})})),C),Y),ee=h.a.mark(de),te=h.a.mark(he),re="user/TEMP_SET_USER",ne=E("user/CHECK"),ae=Object(j.a)(ne,3),ce=ae[0],oe=ae[1],se=ae[2],ue="user/LOGOUT",ie=Object(f.a)(re,(function(e){return e})),je=Object(f.a)(ce),le=Object(f.a)(ue),be=S(ce,(function(){return N.get("/api/auth/check")}));function Oe(){try{localStorage.removeItem("user")}catch(e){console.log("localStorage is not working")}}function de(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(x.b)(T);case 3:localStorage.removeItem("user"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),ee,null,[[0,6]])}function he(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.d)(ce,be);case 2:return e.next=4,Object(x.d)(se,Oe);case 4:return e.next=6,Object(x.d)(ue,de);case 6:case"end":return e.stop()}}),te)}var fe=Object(m.a)((X={},Object(b.a)(X,re,(function(e,t){var r=t.payload;return Object(O.a)(Object(O.a)({},e),{},{user:r})})),Object(b.a)(X,oe,(function(e,t){var r=t.payload;return Object(O.a)(Object(O.a)({},e),{},{user:r,checkError:null})})),Object(b.a)(X,se,(function(e,t){var r=t.payload;return Object(O.a)(Object(O.a)({},e),{},{user:null,checkError:r})})),Object(b.a)(X,ue,(function(e){return Object(O.a)(Object(O.a)({},e),{},{user:null})})),X),{user:null,checkError:null}),me=r(44),pe=r(45),xe=r(83),ve=r(155);function ge(){var e=Object(me.a)(["\n    color: red;\n    text-align: center;\n    font-size: 0.875rem;\n    margin-top: 1rem;\n"]);return ge=function(){return e},e}var we=pe.a.div(ge()),ye=function(e){var t=e.form,r=e.onChange,n=e.onSubmit,c=e.error;return Object(a.jsx)("div",{children:Object(a.jsxs)("form",{onSubmit:n,children:[Object(a.jsx)("h3",{children:Object(a.jsx)(xe.a,{})}),Object(a.jsx)("h3",{children:"BANK"}),Object(a.jsxs)("p",{className:"create-id text-center",children:["\uc544\uc9c1 \uacc4\uc815\uc774 \uc5c6\uc73c\uc2ed\ub2c8\uae4c? ",Object(a.jsx)("a",{href:"/SignUp",children:"\uac00\uc785\ud558\uae30"})]}),Object(a.jsx)(ve.a,{autoComplete:"username",label:"ID",name:"username",onChange:r,value:t.username}),Object(a.jsx)("p",{}),Object(a.jsx)(ve.a,{autoComplete:"new-password",label:"Password",name:"password",type:"password",onChange:r,value:t.password}),Object(a.jsx)("p",{}),Object(a.jsx)("p",{}),Object(a.jsx)("div",{className:"form-group",children:Object(a.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(a.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"customCheck1"}),Object(a.jsx)("label",{className:"custom-control-label",htmlFor:"customCheck1",children:"Remember me"})]})}),Object(a.jsx)("p",{}),Object(a.jsx)("p",{}),c&&Object(a.jsx)(we,{children:c}),Object(a.jsx)("button",{className:"btn btn-dark btn-lg btn-block",children:"Login"}),Object(a.jsxs)("p",{className:"forgot-password text-right",children:["Forgot ",Object(a.jsx)("a",{href:"#",children:"password?"})]})]})})},ke=Object(i.f)((function(e){var t=e.history,r=Object(c.useState)(null),n=Object(j.a)(r,2),o=n[0],s=n[1],u=Object(l.b)(),i=Object(l.c)((function(e){var t=e.auth,r=e.user;return{form:t.login,auth:t.auth,authError:t.authError,user:r.user}})),b=i.form,O=i.auth,d=i.authError,h=i.user;return Object(c.useEffect)((function(){u(K("login"))}),[u]),Object(c.useEffect)((function(){if(d)return console.log("\uc624\ub958 \ubc1c\uc0dd"),600===d.response.status?void s("\uc544\uc774\ub514\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694"):601===d.response.status?void s("\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694"):602===d.response.status?void s("\uc874\uc7ac\ud558\uc9c0\uc54a\uc740 \uacc4\uc815\uc785\ub2c8\ub2e4"):603===d.response.status?void s("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4"):void s("\ub85c\uadf8\uc778 \uc2e4\ud328");O&&(console.log("\ub85c\uadf8\uc778 \uc131\uacf5"),u(je()))}),[O,d,u]),Object(c.useEffect)((function(){if(h){t.push("/Main");try{localStorage.setItem("user",JSON.stringify(h))}catch(e){console.log("localStorage is not working")}}else t.push("/")}),[t,h]),Object(a.jsx)(ye,{form:b,onChange:function(e){var t=e.target,r=t.value,n=t.name;u(H({form:"login",key:n,value:r}))},onSubmit:function(e){e.preventDefault();var t=b.username,r=b.password;u(Z({username:t,password:r}))},error:o})})),Ee=function(){return Object(a.jsx)(ke,{})};function Se(){var e=Object(me.a)(["\n    color: red;\n    text-align: center;\n    font-size: 0.875rem;\n    margin-top: 1rem;\n"]);return Se=function(){return e},e}var Ce=pe.a.div(Se()),Ie=Object(i.f)((function(e){var t=e.form,r=e.onChange,n=e.onSubmit,c=e.error;return Object(a.jsxs)("form",{onSubmit:n,children:[Object(a.jsx)("h3",{children:"REGISTER FORM"}),Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)(ve.a,{autoComplete:"username",label:"ID",name:"username",onChange:r,value:t.username})}),Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)(ve.a,{autoComplete:"new-password",label:"Password",name:"password",onChange:r,type:"password",value:t.password})}),Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)(ve.a,{label:"Password Check",name:"passwordConfirm",onChange:r,type:"password",value:t.passwordConfirm})}),Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)(ve.a,{label:"Email",name:"email",onChange:r,value:t.email})}),c&&Object(a.jsx)(Ce,{children:c}),Object(a.jsx)("button",{className:"btn btn-dark btn-lg btn-block",children:"SUBMIT"}),Object(a.jsxs)("p",{className:"forgot-password text-right",children:["Already registered ",Object(a.jsx)("a",{href:"/",children:"log in?"})]})]})})),Ne=Object(i.f)((function(e){var t=e.history,r=Object(c.useState)(null),n=Object(j.a)(r,2),o=n[0],s=n[1],u=Object(l.b)(),i=Object(l.c)((function(e){var t=e.auth,r=e.user;return{form:t.register,auth:t.auth,authError:t.authError,user:r.user}})),b=i.form,O=i.auth,d=i.authError,h=i.user;return Object(c.useEffect)((function(){u(K("register"))}),[u]),Object(c.useEffect)((function(){if(d)return 409===d.response.status?void s("\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \uacc4\uc815\uba85\uc785\ub2c8\ub2e4"):void s("\ud68c\uc6d0\uac00\uc785 \uc2e4\ud328");O&&(console.log("\ud68c\uc6d0 \uac00\uc785 \uc131\uacf5"),console.log(O),u(je()))}),[O,d,u]),Object(c.useEffect)((function(){if(h){t.push("/");try{localStorage.setItem("user",JSON.stringify(h))}catch(e){console.log("localStorage is not working")}}}),[t,h]),Object(a.jsx)(Ie,{form:b,onChange:function(e){var t=e.target,r=t.value,n=t.name;u(H({form:"register",key:n,value:r}))},onSubmit:function(e){e.preventDefault();var t=b.username,r=b.email,n=b.password,a=b.passwordConfirm;if(![t,r,n,a].includes(""))return n!==a?(s("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4"),u(H({form:"register",key:"password",value:""})),void u(H({form:"register",key:"passwordConfirm",value:""}))):void u(W({username:t,email:r,password:n}));s("\ube48\uce78\uc744 \ubaa8\ub450 \uc785\ub825\ud558\uc138\uc694")},error:o})})),Te=function(){return Object(a.jsx)(Ne,{})},Le=r(78);var Ae=function(){return Object(a.jsxs)("form",{children:[Object(a.jsx)(Le.a,{variant:"primary",size:"lg",block:!0,children:"\uacc4\uc88c"}),Object(a.jsx)(Le.a,{variant:"primary",size:"lg",block:!0,children:"\ub300\ucd9c"}),Object(a.jsx)(Le.a,{variant:"primary",size:"lg",block:!0,children:"\ubcf4\ud5d8"}),Object(a.jsx)(Le.a,{variant:"primary",size:"lg",block:!0,children:"\ud22c\uc790"})]})},Fe=function(){return Object(a.jsx)(Ae,{})},Re=function(){return Object(a.jsx)("div",{children:"\ub0b4\uacc4\uc815 \ud398\uc774\uc9c0"})},Me=function(){return Object(a.jsx)("div",{children:"\uacc4\uc88c \uc774\uccb4 \ud398\uc774\uc9c0"})},Ue=r(158),_e=r(159),De=r(156),Ge=function(e){var t=e.user,r=e.onLogout;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(Ue.a,{bg:"light",expand:"lg",children:[Object(a.jsx)(Ue.a.Brand,{href:"/",children:"REACT BANK - Project"}),Object(a.jsx)(Ue.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(a.jsx)(Ue.a.Collapse,{id:"basic-navbar-nav",children:Object(a.jsxs)(_e.a,{className:"mr-auto",children:[t?Object(a.jsx)(_e.a.Link,{onClick:r,children:"LOG-OUT"}):Object(a.jsx)(_e.a.Link,{as:u.b,to:"/login",children:"LOG-IN"}),t&&Object(a.jsxs)(De.a,{title:"TEST\uc6a9 \uc774\ub3d9",id:"basic-nav-dropdown",children:[Object(a.jsx)(De.a.Item,{as:u.b,to:"/Main"}),Object(a.jsx)(De.a.Item,{as:u.b,to:"/MyAccount",children:"MyAccount"}),Object(a.jsx)(De.a.Item,{as:u.b,to:"/BankTransfer",children:"\uc1a1\uae08"}),Object(a.jsx)(De.a.Item,{href:"#action/3.2",children:"Another action"}),Object(a.jsx)(De.a.Item,{href:"#action/3.3",children:"Something"}),Object(a.jsx)(De.a.Item,{href:"#action/3.4",children:"Separated link"})]})]})})]})})},Be=Object(i.f)((function(e){var t=e.history,r=Object(l.c)((function(e){return{user:e.user.user}})).user,n=Object(l.b)();return Object(a.jsx)(Ge,{user:r,onLogout:function(){n(le()),t.push("/")}})})),Pe=function(){return Object(a.jsx)(u.a,{children:Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(Be,{}),Object(a.jsx)("div",{className:"outer",children:Object(a.jsx)("div",{className:"inner",children:Object(a.jsxs)(i.c,{children:[Object(a.jsx)(i.a,{exact:!0,path:"/",component:Ee}),Object(a.jsx)(i.a,{path:"/LogIn",component:Ee}),Object(a.jsx)(i.a,{path:"/SignUp",component:Te}),Object(a.jsx)(i.a,{path:"/Main",component:Fe}),Object(a.jsx)(i.a,{path:"/MyAccount",component:Re}),Object(a.jsx)(i.a,{path:"/BankTransfer",component:Me})]})})})]})})},ze=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,161)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;r(e),n(e),a(e),c(e),o(e)}))},Je=r(27),He=r(82),Ke=r(84),We=h.a.mark(Ze);function Ze(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.a)([V(),he()]);case 2:case"end":return e.stop()}}),We)}var qe=Object(Je.combineReducers)({auth:$,loading:k,user:fe}),Qe=Object(Ke.a)(),Ve=Object(Je.createStore)(qe,Object(He.composeWithDevTools)(Object(Je.applyMiddleware)(Qe)));Qe.run(Ze),function(){try{var e=localStorage.getItem("user");if(!e)return;Ve.dispatch(ie(e)),Ve.dispatch(je())}catch(t){console.log("localStorage is not working")}}(),s.a.render(Object(a.jsx)(l.a,{store:Ve,children:Object(a.jsx)(u.a,{children:Object(a.jsx)(Pe,{})})}),document.getElementById("root")),ze()},95:function(e,t,r){},97:function(e,t,r){}},[[125,1,2]]]);
//# sourceMappingURL=main.cb0c6fb9.chunk.js.map